function imagePreviewer(e){const t=this,i=t.closest("form"),n=i.querySelector(".form-control-filename"),r=i.querySelector(".form-control-thumbnail"),o=e.target.files;if(o&&o[0]){const e=o[0];n.textContent=n.dataset.text;const t=new FileReader;t.addEventListener("load",function(e){r.style.backgroundImage=`url("${e.target.result}")`}),t.readAsDataURL(e)}}function checkSelected(){if("/type/new"===this.value)return window.location=this.value;this.value&&this.closest("form").submit()}const ELS_file=document.querySelectorAll(".form-control-file");ELS_file.forEach(e=>{e.addEventListener("change",imagePreviewer)}),$(document).ready(()=>{setTimeout(function(){$("#flash").fadeOut("slow")},3e3)}),$(".delete-review").on("click",e=>{e.preventDefault();const t=$(e.currentTarget).data(),i=$("#form-delete-review");i.find('[name="review_id"]').val(t.review_id),i.find('[name="perfume_id"]').val(t.perfume_id)}),$(".edit-review").on("click",e=>{e.preventDefault();const t=$(e.currentTarget).data(),i=$("#form-edit-review");i.find('[name="review_id"]').val(t.review_id),i.find('[name="perfume_id"]').val(t.perfume_id)});const EL_select=document.querySelector("#filter_query");EL_select&&EL_select.addEventListener("change",checkSelected),$(document).on("click","#editFormButton",function(){const e=$(this).parents("div").siblings("div.review-content").children(".content-review").html();CKEDITOR.instances.edit_review.setData(e)}),$(".is-invalid").closest(".modal").modal("show");