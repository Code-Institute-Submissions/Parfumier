const imagePreviewer=function(e){const t=this,n=t.closest("form"),i=n.querySelector(".form-control-filename"),r=n.querySelector(".form-control-thumbnail"),o=e.target.files;if(o&&o[0]){const e=o[0];i.textContent=i.dataset.text;const t=new FileReader;t.addEventListener("load",function(e){r.style.backgroundImage=`url("${e.target.result}")`}),t.readAsDataURL(e)}},formControlFileRef=document.querySelectorAll(".form-control-file");formControlFileRef.forEach(e=>{e.addEventListener("change",imagePreviewer)}),$(document).ready(()=>{setTimeout(function(){$("#flash").fadeOut("slow")},3e3)}),$(".delete-review").on("click",e=>{e.preventDefault();const t=$(e.currentTarget).data(),n=$("#form-delete-review");n.find('[name="review_id"]').val(t.review_id),n.find('[name="perfume_id"]').val(t.perfume_id)}),$(".edit-review").on("click",e=>{e.preventDefault();const t=$(e.currentTarget).data(),n=$("#form-edit-review");n.find('[name="review_id"]').val(t.review_id),n.find('[name="perfume_id"]').val(t.perfume_id)});const checkSelected=function(){if("/type/new"===this.value)return window.location=this.value;this.value&&this.closest("form").submit()},selectElement=document.querySelector("#filter_query");selectElement&&selectElement.addEventListener("change",checkSelected),$(document).on("click","#editFormButton",function(){const e=$(this).parents("div").siblings("div.review-content").children("div").children("div.content-review").html();CKEDITOR.instances.edit_review.setData(e)}),$(".is-invalid").closest(".modal").modal("show");